(window["webpackJsonpahorta-browser"]=window["webpackJsonpahorta-browser"]||[]).push([[0],{129:function(e,t,a){e.exports=a.p+"static/media/ahorta-logo.c6bd6688.png"},312:function(e,t,a){e.exports=a(573)},317:function(e,t,a){},322:function(e,t,a){},53:function(e,t,a){e.exports=a.p+"static/media/shape.52bb81c9.svg"},558:function(e,t,a){e.exports=a.p+"static/media/ahorta-experiments-01.8f2dc4b3.jpeg"},559:function(e,t,a){},560:function(e,t,a){e.exports=a.p+"static/media/public-image1.3ca0629a.jpg"},573:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),i=a.n(o),c=(a(317),a(8)),l=a(9),s=a(11),u=a(10),m=a(12),d=a(76),p=a(27),g=a(273),h=a(619),f=a(298),b=(a(322),a(21)),y=a(78),v=a(141),E=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"authenticateUser",value:function(e){localStorage.setItem("token",e)}},{key:"storeReferer",value:function(e){localStorage.setItem("referer",e)}},{key:"getReferer",value:function(){return localStorage.getItem("referer")}},{key:"isUserAuthenticated",value:function(){return null!==localStorage.getItem("token")}},{key:"deauthenticateUser",value:function(){return localStorage.removeItem("token"),localStorage.removeItem("referer"),!localStorage.getItem("token")||!localStorage.getItem("referer")}},{key:"getToken",value:function(){return localStorage.getItem("token")}}]),e}(),x=function(e){var t=e.component,a=Object(v.a)(e,["component"]);return r.a.createElement(y.b,Object.assign({},a,{render:function(e){return E.isUserAuthenticated()?r.a.createElement(t,e):r.a.createElement(y.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},w=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.match.params.token;if(e){var t=E.getReferer();E.authenticateUser(e),t&&"/"!==t&&this.props.history.push(t),this.props.history.push("/profile")}else this.props.history.push("/signin")}},{key:"render",value:function(){return r.a.createElement("div",null,"Session created")}}]),t}(n.Component),C=a(47),j="https://ahorta.herokuapp.com",O={Authorization:"Basic ".concat("afe346c2n25cen4f9dn917dn287a8e54e5d6"),"Content-Type":"application/json"},k=(Object(C.genPlainActions)("user"),Object(C.genAsyncActions)("user",j+"/users",O)),N=a(38),S=a.n(N),B=Object(C.genActionNames)("user",["logged","login","logout"]),T=Object(C.genPlainActions)("user",["logged","login","logout","register"]),A=function(){return function(e){return e(T.logged[0]()),S.a.get(j+"/authenticated",{headers:{Authorization:"Bearer ".concat(E.getToken()),"Content-Type":"application/json"}}).then((function(t){return e(T.logged[1](t.data))})).catch((function(t){return e(T.logged[2](t))}))}},D=function(e){return function(t){return t(T.login[0]()),S.a.post(j+"/authorize/local",e).then((function(e){return t(T.login[1](e.data))})).catch((function(e){return t(T.login[2](e))}))}},I=function(){return function(e){return e(T.logout[0]()),E.deauthenticateUser()?e(T.logout[1]({})):e(T.logout[2](new Error("we have an error to logout, try again later")))}},P=a(19),R=a.n(P),M=a(28),U=a(13),L=a(71),F=a.n(L),W=a(17),V=a.n(W),z=a(635),G=a(203),_=a(80),Y=a(627),H=a(659),K=a(658),J=a(275),X=a.n(J),q=a(276),$=a.n(q),Q=a(195),Z=a.n(Q),ee=a(196),te=a.n(ee),ae=a(194),ne=a.n(ae),re=a(124);var oe=Object(re.a)((function(e){var t=e.theme,a=e.data;return r.a.createElement(X.a,{width:"99%",height:225},r.a.createElement($.a,{data:a&&a.reverse()},r.a.createElement(te.a,{dataKey:"createdAt"}),r.a.createElement(ne.a,null),r.a.createElement(Z.a,{dataKey:"value",stackId:"a",fill:t.palette.primary.main})))}));var ie=V()((function(e){return{loadingMessage:{position:"absolute",top:"40%",left:"40%"}}}))((function(e){var t=e.classes,a=e.loading;return r.a.createElement("div",{style:a?{display:"block"}:{display:"none"},className:t.loadingMessage},r.a.createElement("span",{role:"img","aria-label":"emoji",style:{fontSize:58,textAlign:"center",display:"inline-block",width:"100%"}},"\ud83d\udc4b"),r.a.createElement(_.a,{variant:"h6"},"Waiting for input"))})),ce=a(624),le=a(620),se=a(622),ue=a(623),me=a(621),de=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.open,n=e.onClose;return r.a.createElement(le.a,{open:a,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",scroll:"body"},r.a.createElement(me.a,{id:"alert-dialog-title"}),r.a.createElement(se.a,null,r.a.createElement(ue.a,{id:"alert-dialog-description"},r.a.createElement("div",{className:t.container},this.props.children))))}}]),t}(n.Component),pe=V()((function(e){return{container:{maxWidth:600,flexGrow:1,textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center"},bottomMargin:{marginBottom:2*e.spacing.unit}}}))(de),ge=a(282),he=a.n(ge),fe=a(660),be=a(283),ye=a(129),ve=Object(be.autoPlay)(he.a),Ee=[{label:"A NODE MCU with a sensor",description:"We use a Node MCU Module with a Micropython firmware to send requests about the humidity state",imgPath:"https://alexandremagno.net/wp-content/uploads/2020/12/Soil-Moisture-Sensor-ESP8266-NodeMCU_Steckplatine.png"},{label:"We read the plant humidity",description:"With the sensor we read the humidity level and send the result to our server",imgPath:"https://i1.wp.com/alexandremagno.net/wp-content/uploads/2018/12/soil-moisture-sensor-e1467578282801-1.png?w=1104&ssl=1"},{label:"It fits with your plant",description:"This is a simple module that you can connect in your plant the way you want",imgPath:"https://i2.wp.com/alexandremagno.net/wp-content/uploads/2018/12/IMG_6074-1-e1543858334746.jpg?w=1400&ssl=1"},{label:"We notify you by email",description:"You can setup the reading interval to receive notifications about your plant state",imgPath:"https://i1.wp.com/alexandremagno.net/wp-content/uploads/2018/12/Screen-Shot-2018-12-03-at-6.23.36-PM.png?w=565&ssl=1"}],xe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={activeStep:0},a.handleNext=function(){a.setState((function(e){return{activeStep:e.activeStep+1}}))},a.handleBack=function(){a.setState((function(e){return{activeStep:e.activeStep-1}}))},a.handleStepChange=function(e){a.setState({activeStep:e})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=Ee.length,a=this.state.activeStep;return r.a.createElement(pe,this.props,r.a.createElement("div",{className:e.container},r.a.createElement("div",{className:e.bottomMargin},r.a.createElement("img",{width:100,src:ye,alt:""})),r.a.createElement("div",null,r.a.createElement(ve,{axis:"x",index:a,onChangeIndex:this.handleStepChange,enableMouseEvents:!0},Ee.map((function(t,n){return r.a.createElement("div",{key:t.label},Math.abs(a-n)<=2?r.a.createElement("img",{width:400,className:e.img,src:t.imgPath,alt:t.label}):null)}))),r.a.createElement(fe.a,{steps:t,position:"static",activeStep:a,className:e.mobileStepper,nextButton:r.a.createElement(ce.a,{size:"small",onClick:this.handleNext,disabled:a===t-1},"Next"),backButton:r.a.createElement(ce.a,{size:"small",onClick:this.handleBack,disabled:0===a},"Back")})),r.a.createElement("div",{className:e.stepsContainer},r.a.createElement(_.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},Ee[a].label),r.a.createElement(_.a,{variant:"body2",gutterBottom:!0},Ee[a].description))))}}]),t}(n.Component),we=V()((function(e){return{container:{maxWidth:600,flexGrow:1,textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center"},stepsContainer:{marginLeft:72,textAlign:"left",marginTop:20,height:65},bottomMargin:{marginBottom:2*e.spacing.unit}}}))(xe),Ce=a(629),je=a(579),Oe=a(631),ke=a(634),Ne=a(84),Se=a.n(Ne),Be=a(626),Te=a(625),Ae=a(651),De=a(633),Ie=a(284),Pe=a.n(Ie),Re=a(285),Me=a.n(Re),Ue=a(628),Le=a(632),Fe=a(653),We=a(630),Ve=[{label:"Home",pathname:"/"},{label:"Devices",pathname:"/devices"}],ze=[{label:"Signup",pathname:"/signup",position:"right"},{label:"Signin",pathname:"/signin"},{label:"Github",pathname:"https://github.com/worknenjoy/ahorta-client",icon:"github",external:!0}],Ge=a(129);function _e(e){return r.a.createElement(je.a,Object.assign({button:!0,component:"a"},e))}var Ye=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={valuePrimary:null,valueSecondary:null,menuDrawer:!1},a.handleChangePrimary=function(e,t){a.setState({value:t})},a.handleChangeSecondary=function(e,t){a.setState({value:t})},a.mobileMenuOpen=function(e){a.setState({menuDrawer:!0})},a.mobileMenuClose=function(e){a.setState({menuDrawer:!1})},a.toProfile=function(){a.props.history.push({pathname:"/profile"})},a.currentPrimary=function(){return"/"===a.props.currentPath?0:"/devices"===a.props.currentPath?1:"/users"===a.props.currentPath?2:"/signup"===a.props.currentPath?3:"/signin"===a.props.currentPath?4:void 0},a.currentSecondary=function(){return"/"===a.props.currentPath?0:"/signup"===a.props.currentPath?1:"/signin"===a.props.currentPath?2:void 0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(Te.a,{position:"absolute",color:"default",className:t.appBar},r.a.createElement(Be.a,null,r.a.createElement(Y.a,{container:!0,spacing:2,alignItems:"baseline"},r.a.createElement(Y.a,{item:!0,xs:12,className:t.flex},r.a.createElement("div",{className:t.inline},r.a.createElement(_.a,{variant:"h6",color:"inherit",noWrap:!0},r.a.createElement(b.b,{to:"/",className:t.link},r.a.createElement("img",{width:80,src:Ge,alt:"",className:t.tagline})))),!this.props.noTabs&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.productLogo},r.a.createElement(_.a,null,"Taking care of your plant")),r.a.createElement("div",{className:t.iconContainer},r.a.createElement(Ue.a,{onClick:this.mobileMenuOpen,className:t.iconButton,color:"inherit","aria-label":"Menu"},r.a.createElement(Pe.a,null))),r.a.createElement("div",{className:t.tabContainer},r.a.createElement(Fe.a,{anchor:"right",open:this.state.menuDrawer,onClose:this.mobileMenuClose,onOpen:this.mobileMenuOpen},r.a.createElement(Te.a,{title:"Menu"}),r.a.createElement(Ce.a,null,Ve.map((function(t,a){return r.a.createElement(je.a,{component:t.external?We.a:b.b,href:t.external?t.pathname:null,to:t.external?null:{pathname:t.pathname,search:e.props.location.search},button:!0,key:t.label},r.a.createElement(Oe.a,{primary:t.label}))})),r.a.createElement(Le.a,null)),r.a.createElement(Ce.a,null,ze.map((function(t,a){return r.a.createElement(je.a,{component:t.external?We.a:b.b,href:t.external?t.pathname:null,to:t.external?null:{pathname:t.pathname,search:e.props.location.search},button:!0,key:t.label},r.a.createElement(Oe.a,{primary:t.label}))})),r.a.createElement(Le.a,null))),r.a.createElement(Ae.a,{value:this.currentPrimary()||this.state.valuePrimary,indicatorColor:"primary",textColor:"primary",onChange:this.handleChangePrimary},Ve.map((function(a,n){return r.a.createElement(De.a,{key:"primary-".concat(n),component:a.external?We.a:b.b,href:a.external?a.pathname:null,to:a.external?null:{pathname:a.pathname,search:e.props.location.search},classes:{root:t.tabItem},label:a.label})}))),r.a.createElement(Ae.a,{value:this.currentSecondary()||this.state.valueSecondary,indicatorColor:"primary",textColor:"primary",onChange:this.handleChangeSecondary},ze.map((function(a,n){return r.a.createElement(De.a,{iconContainer:!0,key:"secondary-".concat(n),component:a.external?We.a:b.b,href:a.external?a.pathname:null,to:a.external?null:{pathname:a.pathname,search:e.props.location.search},classes:{root:t.tabItem},label:r.a.createElement("div",null,a.label," ","github"===a.icon&&r.a.createElement(Me.a,{style:{marginLeft:5,verticalAlign:"sub"}}))})}))))))),this.props.user&&r.a.createElement("div",{style:{width:"45%"}},r.a.createElement(Ce.a,{style:{width:"40%"}},r.a.createElement(_e,{onClick:this.toProfile},r.a.createElement(ke.a,null,r.a.createElement(K.a,null,r.a.createElement(Se.a,null))),r.a.createElement(Oe.a,{primary:this.props.user.name,secondary:this.props.user.email}))))))}}]),t}(n.Component),He=Object(y.g)(V()((function(e){return{appBar:Object(U.a)({position:"relative",boxShadow:"none",borderBottom:"1px solid ".concat(e.palette.grey[100]),backgroundColor:"white"},e.breakpoints.up("md"),{paddingRigth:120,paddingLeft:120}),inline:{display:"inline"},flex:Object(U.a)({display:"flex"},e.breakpoints.down("sm"),{display:"flex",justifyContent:"space-evenly",alignItems:"center"}),link:{textDecoration:"none",color:"inherit"},productLogo:Object(U.a)({display:"inline-block",borderLeft:"1px solid ".concat(e.palette.grey.A100),marginLeft:32,paddingLeft:24},e.breakpoints.up("md"),{paddingTop:"1.5em"}),tagline:Object(U.a)({display:"inline-block",marginLeft:10},e.breakpoints.up("md"),{paddingTop:"0.8em"}),iconContainer:Object(U.a)({display:"none"},e.breakpoints.down("sm"),{display:"block"}),iconButton:{float:"right"},tabContainer:Object(U.a)({marginLeft:32,display:"flex",flexGrow:1,justifyContent:"space-between"},e.breakpoints.down("sm"),{display:"none"}),tabItem:{paddingTop:20,paddingBottom:20,minWidth:"auto"}}}))(Ye)),Ke=function(e,t,a){if(0===a-t)return 0;var n=Math.round(100*(e-t)/(a-t));return n<0||n>100?"wrong input":n};a(131).defaultFormat("0");var Je=a(53),Xe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={device:{},loading:!1,howItWorksDialog:!1,data:[]},a.openDialog=function(e){a.setState({howItWorksDialog:!0})},a.dialogClose=function(e){a.setState({howItWorksDialog:!1})},a.handleChangeAmount=function(e,t){a.setState({loading:!1});var n=a.props.match.params.id;S.a.put("".concat(j,"/devices/").concat(n),{timer:36e5*t},{headers:{Authorization:"Basic ".concat("afe346c2n25cen4f9dn917dn287a8e54e5d6"),"Content-Type":"application/json"}}).then((function(e){console.log("updated",e)})).catch((function(e){console.log(e)})),a.updateValues()},a.handleChangePeriod=function(e,t){a.setState({loading:!1}),a.updateValues()},a.handleChangeStart=function(e,t){a.setState({start:t,loading:!1});var n=a.props.match.params.id;S.a.put("".concat(j,"/devices/").concat(n),{threshold:t||0},{headers:{Authorization:"Basic ".concat("afe346c2n25cen4f9dn917dn287a8e54e5d6"),"Content-Type":"application/json"}}).then((function(e){console.log("updated",e)})).catch((function(e){console.log(e)})),a.updateValues()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"updateValues",value:function(){}},{key:"componentDidMount",value:function(){var e=Object(M.a)(R.a.mark((function e(){var t,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.logged();case 2:return t=this.props.match.params.id,e.next=5,S.a.get(j+"/devices/".concat(t),{headers:{Authorization:"Basic ".concat("afe346c2n25cen4f9dn917dn287a8e54e5d6"),"Content-Type":"application/json"}});case 5:a=e.sent,this.setState({device:a.data}),this.setState({start:a.data&&a.data.threshold,amount:a.data&&a.data.timer/36e5}),this.updateValues();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.loggedUser,n=e.history,o=this.state,i=o.loading,c=o.device,l=o.howItWorksDialog,s=this.props.location.pathname;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,null),r.a.createElement(He,{currentPath:s,user:a&&a.data.user,history:n}),r.a.createElement("div",{className:t.root},r.a.createElement(Y.a,{container:!0,justify:"center"},r.a.createElement(Y.a,{spacing:2,alignItems:"flex-start",justify:"center",container:!0,className:t.grid},r.a.createElement(Y.a,{item:!0,xs:12},r.a.createElement("div",{className:t.topBar},r.a.createElement("div",{className:t.block},r.a.createElement("small",null,"name:"),r.a.createElement(_.a,{variant:"h4",gutterBottom:!0},c&&c.name," ",r.a.createElement(H.a,{style:{marginLeft:10},variant:"outlined",color:"primary",label:"Public"})),r.a.createElement(_.a,{variant:"body1"},"Created ",c&&F()(c.createdAt).fromNow())),r.a.createElement("div",null,r.a.createElement(_.a,{variant:"body1"},"Created by:"),r.a.createElement(Ce.a,null,r.a.createElement(je.a,{onClick:this.toProfile},r.a.createElement(ke.a,null,r.a.createElement(K.a,null,r.a.createElement(Se.a,null))),r.a.createElement(Oe.a,{primary:c&&c.User&&c.User.name,secondary:c&&c.User&&"user since ".concat(F()(c.User.createdAt).fromNow())})))))),r.a.createElement(Y.a,{item:!0,xs:12,md:8},r.a.createElement(G.a,{className:t.paper,style:{position:"relative"}},r.a.createElement(ie,{loading:i}),r.a.createElement("div",{className:i?t.loadingState:""},r.a.createElement(_.a,{variant:"subtitle1",gutterBottom:!0},"Humidity along the time"),r.a.createElement(_.a,{variant:"body1"},"This is the measures we did"),r.a.createElement("div",{style:{marginTop:14,marginBottom:14}},r.a.createElement("div",{className:t.inlining},r.a.createElement(K.a,{className:t.loanAvatar}),r.a.createElement(_.a,{className:t.inlining,variant:"subtitle2",gutterBottom:!0},"Original Value"))),r.a.createElement("div",null,r.a.createElement(oe,{threshold:c&&c.threshold,data:c&&c.Readings&&c.Readings.map((function(e){return{value:e.value,createdAt:F()(e.createdAt).calendar()}}))}))))),r.a.createElement(Y.a,{item:!0,xs:12,md:4},r.a.createElement(G.a,{className:t.paper,style:{position:"relative"}},r.a.createElement(ie,{loading:i}),r.a.createElement(_.a,{variant:"subtitle1",gutterBottom:!0},"Humidity"),r.a.createElement(_.a,{variant:"body1"},"This is the humidity from the sensor ",r.a.createElement("br",null)," ",c&&c.Readings&&c.Readings[0]&&F()(c.Readings[0].createdAt).calendar()),r.a.createElement("div",{style:{textAlign:"center",marginTop:20}},r.a.createElement(_.a,{variant:"h4",color:"secondary"},c&&c.Readings&&c.Readings[0]&&Ke(c.Readings[0].value,c.minValue,c.maxValue)," %")))))),r.a.createElement(we,{open:l,onClose:this.dialogClose})))}}]),t}(n.Component),qe=Object(y.g)(V()((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.grey[100],overflow:"hidden",background:"url(".concat(Je,") no-repeat"),backgroundSize:"cover",backgroundPosition:"0 400px",paddingBottom:200},grid:Object(U.a)({width:1200,margin:"0 ".concat(2*e.spacing.unit,"px")},e.breakpoints.down("sm"),{width:"calc(100% - 20px)"}),loadingState:{opacity:.05},paper:{padding:3*e.spacing.unit,textAlign:"left",color:e.palette.text.secondary},rangeLabel:{display:"flex",justifyContent:"space-between",paddingTop:2*e.spacing.unit},topBar:{display:"flex",justifyContent:"space-between",alignItems:"center"},outlinedButtom:{textTransform:"uppercase",marginTop:e.spacing.unit},actionButtom:{textTransform:"uppercase",margin:e.spacing.unit,width:152,height:36},blockCenter:{padding:2*e.spacing.unit,textAlign:"center"},block:{padding:2*e.spacing.unit},loanAvatar:{display:"inline-block",verticalAlign:"center",width:16,height:16,marginRight:10,marginBottom:-2,color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main},interestAvatar:{display:"inline-block",verticalAlign:"center",width:16,height:16,marginRight:10,marginBottom:-2,color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.light},inlining:{display:"inline-block",marginRight:10},buttonBar:{display:"flex"},noBorder:{borderBottomStyle:"hidden"},mainBadge:{textAlign:"center",marginTop:4*e.spacing.unit,marginBottom:4*e.spacing.unit}}}))(Xe)),$e=Object(p.b)((function(e,t){return{user:e.user,loggedUser:e.login}}),(function(e,t){return{logged:function(){return e(A())},fetchUser:function(t){return e(k.fetch(t))}}}))(qe),Qe=function(e,t){return{type:"OPEN_NOTIFICATION",open:!0,message:e,variant:t}},Ze=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.title,n=e.subtitle;return r.a.createElement("div",{className:t.sectionContainer},r.a.createElement(_.a,{variant:"subtitle1",className:t.title},a),r.a.createElement(_.a,{variant:"body1",gutterBottom:!0},n))}}]),t}(n.Component),et=Object(y.g)(V()((function(e){return{sectionContainer:{marginTop:4*e.spacing.unit,marginBottom:4*e.spacing.unit},title:{fontWeight:"bold"}}}))(Ze)),tt=a(142),at=a(144),nt=a(143),rt=a(140),ot=a.n(rt),it=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.onAction,n=e.onEdit;return r.a.createElement("div",{className:t.spaceTop},this.props.onEdit&&r.a.createElement(ce.a,{onClick:n,variant:"outlined",color:"primary",className:t.secondary},"Edit"),!this.props.noDashboard&&r.a.createElement(ce.a,{onClick:a,variant:"contained",color:"primary",className:t.secondary},"View Dashboard"))}}]),t}(n.Component),ct=V()((function(e){return{primary:{marginRight:2*e.spacing.unit,display:"inline-block"},secondary:{display:"inline-block",marginLeft:2*e.spacing.unit},spaceTop:{marginTop:20}}}))(it),lt=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.user,n=e.name,o=e.onAction,i=e.onEdit,c=e.lastReading,l=e.minValue,s=e.maxValue,u=e.threshold,m=e.at,d=Ke(c,l,s);return r.a.createElement("div",{className:t.root},r.a.createElement(G.a,{className:t.paper},r.a.createElement("div",{className:t.itemContainer},r.a.createElement("div",{className:t.avatarContainer},r.a.createElement(K.a,{className:t.avatar},r.a.createElement(ot.a,null))),r.a.createElement("div",{className:t.baseline},a&&r.a.createElement("div",{className:t.inline},r.a.createElement(_.a,{style:{textTransform:"uppercase"},color:"primary",gutterBottom:!0},"User"),r.a.createElement(_.a,{variant:"h6",gutterBottom:!0},a.name)),r.a.createElement("div",{className:t.inline},r.a.createElement(_.a,{style:{textTransform:"uppercase"},color:"primary",gutterBottom:!0},"Last humidity"),r.a.createElement(_.a,{variant:"h6",gutterBottom:!0},r.a.createElement("span",{style:{color:parseInt(d)>parseInt(u)?at.a[900]:nt.a[700]}},c&&s&&l?"".concat(d," %"):"no readings"))),m&&r.a.createElement("div",{className:t.inline},r.a.createElement(_.a,{style:{textTransform:"uppercase"},color:"primary",gutterBottom:!0},"Last check"),r.a.createElement(_.a,{variant:"h6",gutterBottom:!0},F()(m).calendar()))),r.a.createElement("div",{className:t.inlineRight},r.a.createElement(_.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"Name"),r.a.createElement(_.a,{variant:"h4",gutterBottom:!0},n),r.a.createElement(ct,{noDashboard:this.props.noDashboard,onAction:o,onEdit:i})))))}}]),t}(n.Component),st=V()((function(e){return{paper:{padding:3*e.spacing.unit,textAlign:"left",color:e.palette.text.secondary},avatar:{margin:10,backgroundColor:e.palette.grey[200],color:e.palette.text.primary},avatarContainer:Object(U.a)({},e.breakpoints.down("sm"),{marginLeft:0,marginBottom:4*e.spacing.unit}),itemContainer:Object(U.a)({display:"flex",alignItems:"center",justifyContent:"flex-start"},e.breakpoints.down("sm"),{display:"flex",flexDirection:"column",justifyContent:"center"}),baseline:Object(U.a)({alignSelf:"baseline",width:"100%",marginLeft:2*e.spacing.unit},e.breakpoints.down("sm"),{display:"flex",flexDirection:"column",textAlign:"center",alignItems:"center",width:"100%",marginTop:2*e.spacing.unit,marginBottom:2*e.spacing.unit,marginLeft:0}),inline:Object(U.a)({display:"inline-block",marginLeft:4*e.spacing.unit},e.breakpoints.down("sm"),{marginLeft:0}),inlineRight:Object(U.a)({width:"60%",textAlign:"right",marginLeft:50,alignSelf:"flex-end"},e.breakpoints.down("sm"),{width:"100%",margin:0,textAlign:"center"}),backButton:{marginRight:2*e.spacing.unit}}}))(lt),ut=a(4),mt=a(288),dt=a.n(mt),pt=a(290),gt=a.n(pt),ht=a(291),ft=a.n(ht),bt=a(292),yt=a.n(bt),vt=a(637),Et=a(661),xt=a(638),wt=a(289),Ct=a.n(wt),jt=a(636),Ot={success:dt.a,warning:Ct.a,error:gt.a,info:ft.a},kt=Object(jt.a)((function(e){return{success:{backgroundColor:at.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:vt.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function Nt(e){var t=kt(),a=e.className,n=e.message,o=e.onClose,i=e.variant,c=Object(v.a)(e,["className","message","onClose","variant"]),l=Ot[i];return r.a.createElement(xt.a,Object.assign({className:Object(ut.a)(t[i],a),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(l,{className:Object(ut.a)(t.icon,t.iconVariant)}),n),action:[r.a.createElement(Ue.a,{key:"close","aria-label":"close",color:"inherit",onClick:o},r.a.createElement(yt.a,{className:t.icon}))]},c))}function St(e){var t=e.variant,a=e.open,n=e.message,o=e.closeNotification;function i(e,t){"clickaway"!==t&&o()}return r.a.createElement("div",null,r.a.createElement(Et.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:a,autoHideDuration:3e3,onClose:i},r.a.createElement(Nt,{variant:t,onClose:i,message:n})))}var Bt=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(pe,this.props,r.a.createElement("div",{className:e.bottomMargin},r.a.createElement(_.a,{variant:"body2",gutterBottom:!0},"This is a sample introduction")),r.a.createElement(ce.a,{component:b.b,to:"/dashboard",className:e.bottomMargin,variant:"contained",onClick:this.handleClose,color:"primary",autoFocus:!0},"Getting started"),r.a.createElement(ce.a,{component:b.b,to:"/dashboard",variant:"outlined",onClick:this.handleClose,color:"primary",autoFocus:!0},"Dashboard"))}}]),t}(n.Component),Tt=Object(y.g)(V()((function(e){return{container:{maxWidth:600,flexGrow:1,textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center"},bottomMargin:{marginBottom:2*e.spacing.unit}}}))(Bt)),At=a(53),Dt=a(558),It={url:"//truppie.us17.list-manage.com/subscribe/post?u=bb76ecd5ef5cbbc5e60701321&amp;id=7582e094e3",messages:{inputPlaceholder:"Leave your email",btnLabel:"I want one for me",sending:"subscribing",success:"Thanks for your interest. We will contact you to provide more details",error:"We couldnt register your email. Please check if the address is correct or try again later"},styles:{sending:{fontSize:14,color:at.a[900]},success:{fontSize:14,color:at.a[900]},error:{fontSize:14,backgroundColor:at.a[200],display:"inline-block",opacity:.8,padding:10,color:nt.a[700]}}},Pt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={learnMoredialog:!1,getStartedDialog:!1,data:[]},a.openDialog=function(e){a.setState({learnMoredialog:!0})},a.dialogClose=function(e){a.setState({learnMoredialog:!1})},a.openGetStartedDialog=function(e){a.setState({getStartedDialog:!0})},a.closeGetStartedDialog=function(e){a.setState({getStartedDialog:!1})},a.onAction=function(e){a.props.history.push("/dashboard/".concat(e))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(M.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.logged();case 2:return e.next=4,S.a.get("".concat(j,"/devices"),{headers:{Authorization:"Basic ".concat("afe346c2n25cen4f9dn917dn287a8e54e5d6"),"Content-Type":"application/json"}});case 4:t=e.sent,this.setState({data:t.data});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.data,a=this.props,n=a.classes,o=a.loggedUser,i=a.history,c=this.props.location.pathname;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,null),r.a.createElement(He,{currentPath:c,user:o&&o.data.user,history:this.props.history}),r.a.createElement("div",{className:n.root},r.a.createElement(Y.a,{container:!0,justify:"center"},r.a.createElement(Y.a,{spacing:4,alignItems:"center",justify:"center",container:!0,className:n.grid},r.a.createElement(Y.a,{container:!0,item:!0,xs:12},r.a.createElement(Y.a,{item:!0,xs:12},r.a.createElement(G.a,{className:n.paper,elevation:!0,color:"primary"},r.a.createElement("div",{style:{display:"flex",alignItem:"flex-start"}},r.a.createElement("div",{className:n.box},r.a.createElement(_.a,{color:"primary",variant:"h4",gutterBottom:!0},"Welcome to Ahorta"),r.a.createElement(_.a,{variant:"h5",gutterBottom:!0},"Ahorta is a prototype of an IOT device built with Arduino to automate your home gardening"),r.a.createElement("div",null,r.a.createElement(ce.a,{onClick:this.openDialog,color:"primary",size:"small",variant:"outlined",className:n.actionButtom},"How it works?"),r.a.createElement(ce.a,{onClick:function(){return i.push("/signup")},color:"primary",size:"small",variant:"outlined",className:n.actionButtom},"Create an account"))),r.a.createElement("img",{width:"400",src:Dt,alt:"a sample plant using Ahorta"})))),r.a.createElement(Y.a,{item:!0,xs:12},r.a.createElement(et,{title:"Last devices added to our platform",subtitle:"This is our devices already created using Ahorta"}),t.map((function(t){return t.deviceId&&r.a.createElement("div",{style:{marginTop:20}},r.a.createElement(st,{minValue:t.minValue,maxValue:t.maxValue,user:t.User,at:t.Readings[0]&&t.Readings[0].createdAt,lastReading:t.Readings[0]&&t.Readings[0].value,threshold:t.threshold,ssid:t.ssid,deviceId:t.deviceId,name:t.name,onAction:function(){return e.onAction(t.id)}}))})))),r.a.createElement(Y.a,{item:!0,xs:12},r.a.createElement(et,{title:"I want to know more about",subtitle:"Subscribe to stay updated for our first release"}),r.a.createElement(G.a,{className:n.paper},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("div",{className:"subscribe-form"},r.a.createElement(tt.a,It))))))),r.a.createElement(we,{open:this.state.learnMoredialog,onClose:this.dialogClose}),r.a.createElement(Tt,{open:this.state.getStartedDialog,onClose:this.closeGetStartedDialog})),r.a.createElement(St,{message:this.props.notification.message,open:this.props.notification.open,variant:this.props.notification.variant,closeNotification:this.props.closeNotification}))}}]),t}(n.Component),Rt=Object(y.g)(V()((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.grey[100],overflow:"hidden",background:"url(".concat(At,") no-repeat"),backgroundSize:"cover",backgroundPosition:"0 400px",paddingBottom:200},grid:Object(U.a)({width:1200,marginTop:40},e.breakpoints.down("sm"),{width:"calc(100% - 20px)"}),paper:{padding:3*e.spacing.unit,textAlign:"left"},rangeLabel:{display:"flex",justifyContent:"space-between",paddingTop:2*e.spacing.unit},topBar:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:32},outlinedButtom:{textTransform:"uppercase",margin:e.spacing.unit},actionButtom:{textTransform:"uppercase",margin:e.spacing.unit,width:250},blockCenter:{padding:2*e.spacing.unit,textAlign:"center"},block:{padding:2*e.spacing.unit},box:{marginBottom:40},inlining:{display:"inline-block",marginRight:10},buttonBar:{display:"flex"},alignRight:{display:"flex",justifyContent:"flex-end"},noBorder:{borderBottomStyle:"hidden"},loadingState:{opacity:.05},loadingMessage:{position:"absolute",top:"40%",left:"40%"}}}))(Pt)),Mt=Object(p.b)((function(e,t){return{user:e.user,loggedUser:e.login,notification:e.notification}}),(function(e,t){return{login:function(t){return e(D(t))},logged:function(){return e(A())},openNotification:function(t,a){return e(Qe(t,a))},closeNotification:function(){return e({type:"CLOSE_NOTIFICATION",open:!1})}}}))(Rt),Ut=(a(559),a(53)),Lt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:[]},a.onAction=function(e){a.props.history.push("/dashboard/".concat(e))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(M.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.logged();case 2:return e.next=4,S.a.get("".concat(j,"/devices"),{headers:{Authorization:"Basic ".concat("afe346c2n25cen4f9dn917dn287a8e54e5d6"),"Content-Type":"application/json"}});case 4:t=e.sent,this.setState({data:t.data}),console.log("device data",t.data);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.loggedUser,o=this.state.data,i=this.props.location.pathname;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,null),r.a.createElement(He,{currentPath:i,user:n&&n.data.user,history:this.props.history}),r.a.createElement("div",{className:a.root},r.a.createElement(Y.a,{container:!0,justify:"center"},r.a.createElement(Y.a,{spacing:24,alignItems:"center",justify:"center",container:!0,className:a.grid},r.a.createElement(Y.a,{item:!0,xs:12},r.a.createElement(et,{title:"Devices",subtitle:"Ahorta devices created"}),o.map((function(t){return t.deviceId&&r.a.createElement("div",{style:{marginTop:20}},r.a.createElement(st,{user:t.User,minValue:t.minValue,maxValue:t.maxValue,at:t.Readings[0]&&t.Readings[0].createdAt,lastReading:t.Readings[0]&&t.Readings[0].value,threshold:t.threshold,ssid:t.ssid,deviceId:t.deviceId,name:t.name,onAction:function(){return e.onAction(t.id)}}))})))))))}}]),t}(n.Component),Ft=V()((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.grey.A500,overflow:"hidden",background:"url(".concat(Ut,") no-repeat"),backgroundSize:"cover",backgroundPosition:"0 400px",marginTop:20,padding:20,paddingBottom:600},grid:{width:1e3},paper:{padding:3*e.spacing.unit,textAlign:"left",color:e.palette.text.secondary}}}))(Lt),Wt=Object(p.b)((function(e,t){return{user:e.user,loggedUser:e.login}}),(function(e,t){return{logged:function(){return e(A())}}}))(Ft),Vt=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.user;return r.a.createElement("div",{className:t.root},r.a.createElement(G.a,{className:t.paper},r.a.createElement("div",{className:t.itemContainer},r.a.createElement("div",{className:t.avatarContainer},r.a.createElement(K.a,{className:t.avatar},r.a.createElement(ot.a,null))),r.a.createElement("div",{className:t.baseline},r.a.createElement("div",{className:t.inline},r.a.createElement(_.a,{style:{textTransform:"uppercase"},color:"primary",gutterBottom:!0},"Name"),r.a.createElement(_.a,{variant:"h6",gutterBottom:!0},a.name)),r.a.createElement("div",{className:t.inline},r.a.createElement(_.a,{style:{textTransform:"uppercase"},color:"primary",gutterBottom:!0},"Created at"),r.a.createElement(_.a,{variant:"h6",gutterBottom:!0},F()(a.created_at).fromNow()))),r.a.createElement("div",{className:t.inlineRight},r.a.createElement(_.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"Name"),r.a.createElement(_.a,{variant:"h4",gutterBottom:!0},a.name),r.a.createElement(ct,{onAction:function(){}})))))}}]),t}(n.Component),zt=V()((function(e){return{paper:{padding:3*e.spacing.unit,textAlign:"left",color:e.palette.text.secondary},avatar:{margin:10,backgroundColor:e.palette.grey[200],color:e.palette.text.primary},avatarContainer:Object(U.a)({},e.breakpoints.down("sm"),{marginLeft:0,marginBottom:4*e.spacing.unit}),itemContainer:Object(U.a)({display:"flex",alignItems:"center",justifyContent:"flex-start"},e.breakpoints.down("sm"),{display:"flex",flexDirection:"column",justifyContent:"center"}),baseline:Object(U.a)({alignSelf:"baseline",width:"100%",marginLeft:2*e.spacing.unit},e.breakpoints.down("sm"),{display:"flex",flexDirection:"column",textAlign:"center",alignItems:"center",width:"100%",marginTop:2*e.spacing.unit,marginBottom:2*e.spacing.unit,marginLeft:0}),inline:Object(U.a)({display:"inline-block",marginLeft:4*e.spacing.unit},e.breakpoints.down("sm"),{marginLeft:0}),inlineRight:Object(U.a)({width:"30%",textAlign:"right",marginLeft:50,alignSelf:"flex-end"},e.breakpoints.down("sm"),{width:"100%",margin:0,textAlign:"center"}),backButton:{marginRight:2*e.spacing.unit}}}))(Vt),Gt=a(53),_t=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onAction=function(e){a.props.history.push("/dashboard/".concat(e))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(M.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.listUsers();case 2:console.log(this.props);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.login,n=this.props.users,o=this.props.location.pathname;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,null),r.a.createElement(He,{currentPath:o,user:a&&a.data.user,history:this.props.history}),r.a.createElement("div",{className:t.root},r.a.createElement(Y.a,{container:!0,justify:"center"},r.a.createElement(Y.a,{spacing:24,alignItems:"center",justify:"center",container:!0,className:t.grid},r.a.createElement(Y.a,{item:!0,xs:12},r.a.createElement(et,{title:"Users",subtitle:"This is our Ahorta makers"}),n&&n.data.length&&n.data.map((function(e){return e.email&&r.a.createElement("div",{style:{marginTop:20}},r.a.createElement(zt,{user:e}))})))))))}}]),t}(n.Component),Yt=V()((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.grey.A500,overflow:"hidden",background:"url(".concat(Gt,") no-repeat"),backgroundSize:"cover",backgroundPosition:"0 400px",marginTop:20,padding:20,paddingBottom:600},grid:{width:1e3},paper:{padding:3*e.spacing.unit,textAlign:"left",color:e.palette.text.secondary}}}))(_t),Ht=Object(p.b)((function(e,t){return{users:e.user}}),(function(e,t){return{listUsers:function(){return e(k.list())},createUser:function(t){return e(k.create(t))},fetchUser:function(t){return e(k.fetch(t))},updateUser:function(t,a){return e(k.update(t,a))}}}))(Yt),Kt=a(575),Jt=a(655),Xt=a(656),qt=a(643),$t=a(642),Qt=a(650),Zt=a(644),ea=a(299),ta=a(293),aa=a.n(ta),na=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(_.a,{variant:"h6",gutterBottom:!0},r.a.createElement(b.b,{className:e.link,to:{pathname:"/"}},r.a.createElement(aa.a,null),r.a.createElement("span",{className:e.text},"Back"))))}}]),t}(n.Component),ra=Object(y.g)(V()((function(e){return{link:{textDecoration:"none",color:"inherit"},text:{display:"inline-block",verticalAlign:"text-bottom"}}}))(na)),oa=a(53),ia=a(129);a(131).defaultFormat("0");var ca=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",email:"",password:"",confirmPassword:"",website:"",userType:"default",termsChecked:!1,loading:!1,labelWidth:0,errorMessage:!1},a.handleBack=function(){a.props.history.push("/")},a.handleChange=function(e){a.setState(Object(U.a)({},e.target.name,e.target.value))},a.handleTerms=function(e){a.setState({termsChecked:e.target.checked})},a.registerUser=function(e){return e.preventDefault(),a.state.password!==a.state.confirmPassword?a.props.openNotification("Password and Password confirm is not matching","error"):(a.setState({loading:!0}),a.props.register({email:a.state.email,password:a.state.password,name:a.state.name,website:a.state.website}).then((function(e){return a.setState({loading:!1}),e.error&&e.error.response&&e.error.response.data&&e.error.response.data.error?a.props.openNotification(e.error.response.data.error,"error"):e.error?a.props.openNotification(e.error.message,"error"):(a.props.openNotification("You were successfully registered, now you can signin with your credentials","success"),void a.props.history.push("/signin"))})).catch((function(e){return a.setState({loading:!1}),a.props.openNotification(e.error||e.message,"error")})))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.loading;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,null),r.a.createElement("div",{className:t.root},r.a.createElement(ra,null),r.a.createElement(Y.a,{container:!0,justify:"center"},r.a.createElement(Y.a,{spacing:24,alignItems:"center",justify:"center",container:!0,className:t.grid},r.a.createElement(Y.a,{item:!0,xs:12},r.a.createElement("div",{className:t.logo},r.a.createElement("img",{width:100,src:ia,alt:""})),r.a.createElement("form",{method:"POST",onSubmit:function(t){return e.registerUser(t)},className:t.container,noValidate:!0,autoComplete:"off"},r.a.createElement("div",{className:t.stepContainer},!a&&r.a.createElement("div",{className:t.smallContainer},r.a.createElement(G.a,{className:t.paper},r.a.createElement("div",null,r.a.createElement("div",{style:{marginBottom:32}},r.a.createElement(_.a,{variant:"subtitle1",style:{fontWeight:"bold"},gutterBottom:!0},"Create a new account"),r.a.createElement(_.a,{variant:"body1",gutterBottom:!0},"Please provide your information to create a new account for Ahortas")),r.a.createElement("div",null,r.a.createElement(Jt.a,{id:"email",name:"email",label:"Email",type:"email",className:t.textField,onChange:this.handleChange,margin:"normal",variant:"outlined"}),r.a.createElement(Jt.a,{id:"password",name:"password",label:"Password",type:"password",className:t.textField,onChange:function(t){return e.handleChange(t)},margin:"normal",variant:"outlined"}),r.a.createElement(Jt.a,{id:"confirm-password",name:"confirmPassword",label:"Confirm password",type:"password",className:t.textField,onChange:function(t){return e.handleChange(t)},margin:"normal",variant:"outlined"}),r.a.createElement(Jt.a,{id:"name",name:"name",label:"Your name",className:t.textField,onChange:function(t){return e.handleChange(t)},margin:"normal",variant:"outlined"}),r.a.createElement(Jt.a,{id:"website",name:"website",label:"Website",className:t.textField,onChange:function(t){return e.handleChange(t)},margin:"normal",variant:"outlined"}),r.a.createElement($t.a,{variant:"outlined",className:t.formControl},r.a.createElement(Qt.a,{value:this.state.userType,onChange:function(t){return e.handleChange(t)},input:r.a.createElement(Xt.a,{labelWidth:this.state.labelWidth,name:"userType"})},r.a.createElement(qt.a,{value:"default"},r.a.createElement("em",null,"What kind of user are you?")),r.a.createElement(qt.a,{value:"first"},"A maker nerd geek programmer - I want to prototype new devices"),r.a.createElement(qt.a,{value:"second"},"A curious consumer biologist - I want a easy way to track my plant"))))))),a&&r.a.createElement("div",{className:t.bigContainer},r.a.createElement(G.a,{className:t.paper},r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("div",{style:{width:380,textAlign:"center"}},r.a.createElement("div",{style:{marginBottom:32}},r.a.createElement(_.a,{variant:"h6",style:{fontWeight:"bold"},gutterBottom:!0},"Your request is being processed"),r.a.createElement(_.a,{variant:"body1",gutterBottom:!0},"Please wait while we're sending your information")),r.a.createElement("div",null,r.a.createElement(ea.a,{in:a,style:{transitionDelay:a?"1200ms":"0ms"},timeout:800,unmountOnExit:!0},r.a.createElement(Zt.a,{style:{marginBottom:32,width:100,height:100}}))))))),r.a.createElement("div",{className:t.buttonBar},r.a.createElement(ce.a,{onClick:this.handleBack,className:t.backButton,size:"large"},"Cancel"),r.a.createElement(ce.a,{variant:"contained",color:"primary",size:"large",type:"submit",style:this.state.userType.length?{background:t.button,color:"white"}:{},disabled:this.state.loading},"Signup")))))))),r.a.createElement(St,{message:this.props.notification.message,open:this.props.notification.open,variant:this.props.notification.variant,closeNotification:this.props.closeNotification}))}}]),t}(n.Component),la=Object(y.g)(Object(Kt.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.secondary.A100,overflow:"hidden",background:"url(".concat(oa,") no-repeat"),backgroundSize:"cover",backgroundPosition:"0 400px",marginTop:10,padding:20,paddingBottom:500},grid:{margin:"0 ".concat(2*e.spacing.unit,"px")},smallContainer:{width:"60%"},bigContainer:{width:"80%"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},logo:{marginBottom:24,display:"flex",justifyContent:"center"},stepContainer:{display:"flex",flexDirection:"column",alignItems:"center"},stepGrid:{width:"80%"},buttonBar:{marginTop:32,display:"flex",justifyContent:"center"},button:{backgroundColor:e.palette.primary.A100},backButton:{marginRight:e.spacing.unit},outlinedButtom:{textTransform:"uppercase",margin:e.spacing.unit},stepper:{backgroundColor:"transparent"},paper:{padding:3*e.spacing.unit,textAlign:"left",color:e.palette.text.secondary},topInfo:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:42},formControl:{width:"100%"},selectEmpty:{marginTop:2*e.spacing.unit}}}))(ca)),sa=Object(p.b)((function(e,t){return{user:e.user,loggedUser:e.login,notification:e.notification}}),(function(e,t){return{register:function(t){return e(function(e){return function(t){return t(T.register[0]()),S.a.post(j+"/auth/register",e).then((function(e){return t(T.register[1](e.data))})).catch((function(e){return t(T.register[2](e))}))}}(t))},login:function(t){return e(D(t))},logged:function(){return e(A())},openNotification:function(t,a){return e(Qe(t,a))},closeNotification:function(){return e({type:"CLOSE_NOTIFICATION",open:!1})}}}))(la),ua=a(53),ma=a(129),da=a(560);a(131).defaultFormat("0");var pa=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",receivingAccount:"",termsChecked:!1,loading:!1,labelWidth:0},a.handleNext=function(){a.setState((function(e){return{activeStep:e.activeStep+1}})),2===a.state.activeStep&&setTimeout((function(){return a.props.history.push("/dashboard")}),5e3)},a.handleBack=function(){a.props.history.push("/")},a.handleReset=function(){a.setState({activeStep:0})},a.handleChange=function(e){a.setState(Object(U.a)({},e.target.name,e.target.value))},a.handleTerms=function(e){a.setState({termsChecked:e.target.checked})},a.signUser=function(e){return e.preventDefault(),a.props.login({email:a.state.email,password:a.state.password}).then((function(e){return e.error?a.props.openNotification(e.error.message,"error"):e.data.token?(a.props.history.push("/token/".concat(e.data.token)),void a.props.openNotification("You were signed to your account successfully","success")):a.props.openNotification("We couldnt log you in, please try again later","error")})).catch((function(e){return console.log("error",e),a.props.openNotification(e.message,"error")}))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(M.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.logged();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.loading;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,null),r.a.createElement("div",{className:t.root},r.a.createElement(ra,null),r.a.createElement(Y.a,{container:!0,justify:"center"},r.a.createElement(Y.a,{spacing:24,alignItems:"center",justify:"center",container:!0,className:t.grid},r.a.createElement(Y.a,{item:!0,xs:12},r.a.createElement("div",{className:t.logo},r.a.createElement("img",{width:100,src:ma,alt:""})),r.a.createElement("form",{method:"POST",onSubmit:function(t){return e.signUser(t)},className:t.container,noValidate:!0,autoComplete:"off"},r.a.createElement("div",{className:t.stepContainer},!a&&r.a.createElement("div",{className:t.smallContainer},r.a.createElement(G.a,{className:t.paper},r.a.createElement(Y.a,{spacing:24,alignItems:"flex-start",justify:"center",container:!0,className:t.grid},r.a.createElement(Y.a,{xs:6},r.a.createElement("img",{src:da,width:360,alt:""})),r.a.createElement(Y.a,{xs:6},r.a.createElement("div",{class:t.rootGrid},r.a.createElement("div",{style:{marginBottom:32}},r.a.createElement(_.a,{variant:"subtitle1",style:{fontWeight:"bold"},gutterBottom:!0},"Login into your account"),r.a.createElement(_.a,{variant:"body1",gutterBottom:!0},"Please login with your credentials")),r.a.createElement("div",null,r.a.createElement(Jt.a,{id:"email",name:"email",label:"Email",type:"email",className:t.textField,onChange:this.handleChange,margin:"normal",variant:"outlined"}),r.a.createElement(Jt.a,{id:"password",name:"password",label:"Password",type:"password",className:t.textField,onChange:function(t){return e.handleChange(t)},margin:"normal",variant:"outlined"}))),r.a.createElement("div",{className:t.buttonBar},r.a.createElement(ce.a,{onClick:this.handleBack,className:t.backButton,size:"large"},"Cancel"),r.a.createElement(ce.a,{variant:"contained",color:"primary",size:"large",type:"submit",style:this.state.email&&this.state.password?{background:t.button,color:"white"}:{},disabled:!this.state.email&&!this.state.password},"Sign in")))))),a&&r.a.createElement("div",{className:t.bigContainer},r.a.createElement(G.a,{className:t.paper},r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("div",{style:{width:380,textAlign:"center"}},r.a.createElement("div",{style:{marginBottom:32}},r.a.createElement(_.a,{variant:"h6",style:{fontWeight:"bold"},gutterBottom:!0},"Collecting your data"),r.a.createElement(_.a,{variant:"body1",gutterBottom:!0},"We are processing your request")),r.a.createElement("div",null,r.a.createElement(ea.a,{in:a,style:{transitionDelay:a?"800ms":"0ms"},unmountOnExit:!0},r.a.createElement(Zt.a,{style:{marginBottom:32,width:100,height:100}}))))))))))))),r.a.createElement(St,{message:this.props.notification.message,open:this.props.notification.open,variant:this.props.notification.variant,closeNotification:this.props.closeNotification}))}}]),t}(n.Component),ga=Object(y.g)(Object(Kt.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.secondary.A100,overflow:"hidden",background:"url(".concat(ua,") no-repeat"),backgroundSize:"cover",backgroundPosition:"0 400px",marginTop:10,padding:20,paddingBottom:500},rootGrid:{flexGrow:1},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},grid:{margin:"0 ".concat(2*e.spacing.unit,"px")},smallContainer:{width:"60%"},bigContainer:{width:"80%"},logo:{marginBottom:24,display:"flex",justifyContent:"center"},stepContainer:{display:"flex",flexDirection:"column",alignItems:"center"},stepGrid:{width:"80%"},buttonBar:{marginTop:32,display:"flex",justifyContent:"center"},button:{backgroundColor:e.palette.primary.A100},backButton:{marginRight:e.spacing.unit},outlinedButtom:{textTransform:"uppercase",margin:e.spacing.unit},stepper:{backgroundColor:"transparent"},paper:{padding:3*e.spacing.unit,textAlign:"left",color:e.palette.text.secondary},topInfo:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:42},formControl:{width:"100%"},selectEmpty:{marginTop:2*e.spacing.unit}}}))(pa)),ha=Object(p.b)((function(e,t){return{user:e.user,loggedUser:e.logged,notification:e.notification}}),(function(e,t){return{login:function(t){return e(D(t))},logged:function(){return e(A())},openNotification:function(t,a){return e(Qe(t,a))},closeNotification:function(){return e({type:"CLOSE_NOTIFICATION",open:!1})}}}))(ga),fa=a(657),ba=a(645),ya=a(654),va=a(646),Ea=a(647),xa=a(652),wa=a(561),Ca=a(53),ja=a(131);ja.defaultFormat("0,000");var Oa=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={activeStep:0,receivingAccount:"Home Account",repaimentAccount:"Saving Account",termsChecked:!1,labelWidth:0},a.handleNext=function(){a.setState((function(e){return{activeStep:e.activeStep+1}}))},a.handleBack=function(){a.setState((function(e){return{activeStep:e.activeStep-1}}))},a.handleReset=function(){a.setState({activeStep:0})},a.handleChange=function(e){a.setState(Object(U.a)({},e.target.name,e.target.value))},a.handleTerms=function(e){a.setState({termsChecked:e.target.checked})},a.goToDashboard=function(e){var t=a.props.location.search;a.props.history.push({pathname:"/dashboard",search:t})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"stepActions",value:function(){return 3===this.state.activeStep?"Accept":4===this.state.activeStep?"Send":5===this.state.activeStep?"Done":"Next"}},{key:"render",value:function(){var e=this.props.classes,t=this.props.location.search,a=t?wa.parse(t):{},n=["Info","Bank","Loan details","Terms","Confirm","Done"],o=this.state.activeStep;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,null),r.a.createElement("div",{className:e.root},r.a.createElement(Y.a,{container:!0,justify:"center"},r.a.createElement(Y.a,{spacing:24,alignItems:"center",justify:"center",container:!0,className:e.grid},r.a.createElement(Y.a,{item:!0,xs:12},r.a.createElement(ra,null),r.a.createElement("div",{className:e.stepContainer},r.a.createElement("div",{className:e.bigContainer},r.a.createElement(fa.a,{classes:{root:e.stepper},activeStep:o,alternativeLabel:!0},n.map((function(e){return r.a.createElement(ba.a,{key:e},r.a.createElement(ya.a,null,e))})))),0===o&&r.a.createElement("div",{className:e.bigContainer},r.a.createElement(G.a,{className:e.paper},r.a.createElement("div",{className:e.topInfo},r.a.createElement("div",null,r.a.createElement(_.a,{variant:"subtitle1",style:{fontWeight:"bold"},gutterBottom:!0},"Information"),r.a.createElement(_.a,{variant:"body1",gutterBottom:!0},"General information about the service")),r.a.createElement("div",null,r.a.createElement(ce.a,{variant:"outlined",size:"large",className:e.outlinedButtom},"Edit"))),r.a.createElement(Y.a,{item:!0,container:!0,xs:12},r.a.createElement(Y.a,{item:!0,xs:6},r.a.createElement(_.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"User"),r.a.createElement(_.a,{variant:"h5",gutterBottom:!0},"John Doe")),r.a.createElement(Y.a,{item:!0,xs:6},r.a.createElement(_.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"City"),r.a.createElement(_.a,{variant:"h5",gutterBottom:!0},"Tokyo"))))),1===o&&r.a.createElement("div",{className:e.smallContainer},r.a.createElement(G.a,{className:e.paper},r.a.createElement("div",null,r.a.createElement("div",{style:{marginBottom:32}},r.a.createElement(_.a,{variant:"subtitle1",style:{fontWeight:"bold"},gutterBottom:!0},"Bank information"),r.a.createElement(_.a,{variant:"body1",gutterBottom:!0},"Select account to receive the money")),r.a.createElement("div",{style:{marginBottom:32}},r.a.createElement(_.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"Bank"),r.a.createElement(_.a,{variant:"h5",gutterBottom:!0},"N26")),r.a.createElement("div",null,r.a.createElement(_.a,{style:{textTransform:"uppercase",marginBottom:20},color:"secondary",gutterBottom:!0},"Receiving account"),r.a.createElement($t.a,{variant:"outlined",className:e.formControl},r.a.createElement(Qt.a,{value:this.state.receivingAccount,onChange:this.handleChange,input:r.a.createElement(Xt.a,{labelWidth:this.state.labelWidth,name:"receivingAccount"})},r.a.createElement(qt.a,{value:""},r.a.createElement("em",null)),r.a.createElement(qt.a,{value:"0297 00988200918"},"First account"),r.a.createElement(qt.a,{value:"0235 00235233332"},"Second account"),r.a.createElement(qt.a,{value:"1256 00864222212"},"Third account"))))))),2===o&&r.a.createElement("div",{className:e.bigContainer},r.a.createElement(G.a,{className:e.paper},r.a.createElement("div",{className:e.topInfo},r.a.createElement("div",null,r.a.createElement(_.a,{variant:"subtitle1",style:{fontWeight:"bold"},gutterBottom:!0},"Details"),r.a.createElement(_.a,{variant:"body1",gutterBottom:!0},"We need some details about any information")),r.a.createElement("div",null,r.a.createElement(ce.a,{variant:"outlined",size:"large",className:e.outlinedButtom},"Edit"))),r.a.createElement("div",{className:e.borderColumn},r.a.createElement(Y.a,{item:!0,container:!0,xs:12,style:{marginBottom:32}},r.a.createElement(Y.a,{item:!0,xs:6},r.a.createElement(_.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"Amount"),r.a.createElement(_.a,{variant:"h5",gutterBottom:!0},a?ja(a.amount).format():"75,000"," DKK")),r.a.createElement(Y.a,{item:!0,xs:6},r.a.createElement(_.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"Total fees"),r.a.createElement(_.a,{variant:"h5",gutterBottom:!0},"0 DKK"))),r.a.createElement(Y.a,{item:!0,container:!0,xs:12},r.a.createElement(Y.a,{item:!0,xs:6},r.a.createElement(_.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"Total price"),r.a.createElement(_.a,{variant:"h5",gutterBottom:!0},a?ja(a.interest).format():"6,600"," USD")),r.a.createElement(Y.a,{item:!0,xs:6},r.a.createElement(_.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"Total cost"),r.a.createElement(_.a,{variant:"h5",gutterBottom:!0},a?ja(a.cost).format():"81,600"," USD")))),r.a.createElement(Y.a,{item:!0,container:!0,xs:12},r.a.createElement(Y.a,{item:!0,container:!0,xs:12,style:{marginBottom:32}},r.a.createElement(Y.a,{item:!0,xs:6},r.a.createElement(_.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"How often"),r.a.createElement(_.a,{variant:"h5",gutterBottom:!0},"Once a month"))),r.a.createElement(Y.a,{item:!0,xs:6},r.a.createElement(_.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"When to start"),r.a.createElement(_.a,{variant:"h5",gutterBottom:!0},"01 February 2019")),r.a.createElement(Y.a,{item:!0,xs:6},r.a.createElement(_.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"When it ends?"),r.a.createElement(_.a,{variant:"h5",gutterBottom:!0},"01 May 2019"))),r.a.createElement(Y.a,{item:!0,container:!0,xs:12,style:{marginTop:24}},r.a.createElement(Y.a,{item:!0,xs:6},r.a.createElement(_.a,{style:{textTransform:"uppercase",marginBottom:20},color:"secondary",gutterBottom:!0},"Destination account"),r.a.createElement($t.a,{variant:"outlined",className:e.formControl},r.a.createElement(Qt.a,{value:this.state.repaimentAccount,onChange:this.handleChange,input:r.a.createElement(Xt.a,{labelWidth:this.state.labelWidth,name:"repaimentAccount"})},r.a.createElement(qt.a,{value:""},r.a.createElement("em",null)),r.a.createElement(qt.a,{value:"0297 00988200918"},"Account one"),r.a.createElement(qt.a,{value:"0235 00235233332"},"Account two"),r.a.createElement(qt.a,{value:"1256 00864222212"},"Other account"))))))),3===o&&r.a.createElement("div",{className:e.bigContainer},r.a.createElement(G.a,{className:e.paper},r.a.createElement("div",{style:{marginBottom:24}},r.a.createElement(_.a,{variant:"subtitle1",style:{fontWeight:"bold"},gutterBottom:!0},"Terms & Conditions"),r.a.createElement(_.a,{variant:"body1",gutterBottom:!0},"Please read through and accept the terms & conditions")),r.a.createElement("div",{style:{height:330,padding:16,border:"2px solid #ccc",borderRadius:"3px",overflowY:"scroll"}},r.a.createElement(_.a,{variant:"subtitle1",style:{fontWeight:"bold"},gutterBottom:!0},"1. Your agreement"),r.a.createElement(_.a,{variant:"body1",gutterBottom:!0},"By using this Site, you agree to be bound by, and to comply with, these Terms and Conditions. If you do not agree to these Terms and Conditions, please do not use this site. PLEASE NOTE: We reserve the right, at our sole discretion, to change, modify or otherwise alter these Terms and Conditions at any time. Unless otherwise indicated, amendments will become effective immediately. Please review these Terms and Conditions periodically. Your continued use of the Site following the posting of changes and/or modifications will constitute your acceptance of the revised Terms and Conditions and the reasonableness of these standards for notice of changes. For your information, this page was last updated as of the date at the top of these terms and conditions."),r.a.createElement(_.a,{variant:"subtitle1",style:{fontWeight:"bold"},gutterBottom:!0},"2. Privacy"),r.a.createElement(_.a,{variant:"body1",gutterBottom:!0},"Please review our Privacy Policy, which also governs your visit to this Site, to understand our practices. By using this Site, you agree to be bound by, and to comply with, these Terms and Conditions. If you do not agree to these Terms and Conditions, please do not use this site. PLEASE NOTE: We reserve the right, at our sole discretion, to change, modify or otherwise alter these Terms and Conditions at any time. Unless otherwise indicated, amendments will become effective immediately. Please review these Terms and Conditions periodically. Your continued use of the Site following the posting of changes and/or modifications will constitute your acceptance of the revised Terms and Conditions and the reasonableness of these standards for notice of changes. For your information, this page was last updated as of the date at the top of these terms and conditions.")),r.a.createElement(va.a,{row:!0},r.a.createElement(Ea.a,{control:r.a.createElement(xa.a,{checked:this.state.termsChecked,onChange:this.handleTerms,value:"check"}),label:"I have read and understood the terms & conditions"})))),4===o&&r.a.createElement("div",{className:e.smallContainer},r.a.createElement(G.a,{className:e.paper},r.a.createElement(Y.a,{item:!0,container:!0,xs:12},r.a.createElement(Y.a,{item:!0,xs:12},r.a.createElement(_.a,{variant:"subtitle1",style:{fontWeight:"bold"},gutterBottom:!0},"Sign & confirm"),r.a.createElement(_.a,{variant:"body1",gutterBottom:!0},"Sign and confirm your agreement"))))),(5===o||6===o)&&r.a.createElement("div",{className:e.smallContainer},r.a.createElement(G.a,{className:e.paper},r.a.createElement(Y.a,{item:!0,container:!0,xs:12},r.a.createElement(Y.a,{item:!0,xs:12},r.a.createElement(_.a,{variant:"subtitle1",gutterBottom:!0},"Congratulations ",r.a.createElement("span",{role:"img","aria-label":"conrats emoji"},"\ud83c\udf89")),r.a.createElement(_.a,{variant:"body1",gutterBottom:!0},"We have now a positive response"),r.a.createElement(ce.a,{fullWidth:!0,variant:"outlined"},"Download the service invoice or whatever"))))),r.a.createElement("div",{className:e.flexBar},5!==o&&r.a.createElement(ce.a,{disabled:0===o,onClick:this.handleBack,className:e.backButton,size:"large"},"Back"),r.a.createElement(ce.a,{variant:"contained",color:"primary",onClick:5!==o?this.handleNext:this.goToDashboard,size:"large",disabled:3===this.state.activeStep&&!this.state.termsChecked},this.stepActions()))))))))}}]),t}(n.Component),ka=Object(y.g)(V()((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.primary.A100,overflow:"hidden",background:"url(".concat(Ca,") no-repeat"),backgroundSize:"cover",backgroundPosition:"0 400px",marginTop:10,padding:20,paddingBottom:200},grid:{margin:"0 ".concat(2*e.spacing.unit,"px")},smallContainer:{width:"60%"},bigContainer:{width:"80%"},stepContainer:{display:"flex",flexDirection:"column",alignItems:"center"},stepGrid:{width:"80%"},backButton:{marginRight:e.spacing.unit},outlinedButtom:{textTransform:"uppercase",margin:e.spacing.unit},stepper:{backgroundColor:"transparent"},paper:{padding:3*e.spacing.unit,textAlign:"left",color:e.palette.text.secondary},topInfo:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:42},formControl:{width:"100%"},selectEmpty:{marginTop:2*e.spacing.unit},borderColumn:{borderBottom:"1px solid ".concat(e.palette.grey[100]),paddingBottom:24,marginBottom:24},flexBar:{marginTop:32,display:"flex",justifyContent:"center"}}}))(Oa)),Na=a(648),Sa=a(294),Ba=a.n(Sa),Ta=a(295),Aa=a.n(Ta),Da=Object(jt.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}}}));function Ia(e){return r.a.createElement(je.a,Object.assign({button:!0,component:"a"},e))}function Pa(e){var t=Da(),a=function(){var t=Object(M.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onLogout();case 2:if(t.t0=e.logged,!t.t0){t.next=6;break}return t.next=6,e.logged();case 6:e.history.push({pathname:"/"});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:t.root},r.a.createElement(Ce.a,{component:"nav","aria-label":"main mailbox folders"},r.a.createElement(je.a,null,r.a.createElement(ke.a,null,r.a.createElement(K.a,null,r.a.createElement(Se.a,null))),r.a.createElement(Oe.a,{primary:e.user&&e.user.name,secondary:e.user&&e.user.email})),r.a.createElement(Le.a,null),r.a.createElement(Ia,{onClick:function(t){t.preventDefault(),e.history.push("/connect")},button:!0,selected:"/connect"===e.history.location.pathname},r.a.createElement(Na.a,null,r.a.createElement(Ba.a,null)),r.a.createElement(Oe.a,{primary:"Connect device"})),r.a.createElement(Ia,{onClick:function(t){t.preventDefault(),e.history.push("/profile")},button:!0,selected:"/profile"===e.history.location.pathname},r.a.createElement(Na.a,null,r.a.createElement(Aa.a,null)),r.a.createElement(Oe.a,{primary:"Devices"})),r.a.createElement(Ia,{onClick:function(t){t.preventDefault(),e.history.push("/account")},button:!0,selected:"/account"===e.history.location.pathname},r.a.createElement(Na.a,null,r.a.createElement(Se.a,null)),r.a.createElement(Oe.a,{primary:"Account"})),r.a.createElement(Le.a,null),r.a.createElement(Ce.a,{component:"nav","aria-label":"secondary mailbox folders"},r.a.createElement(Ia,{onClick:function(){return a()}},r.a.createElement(Oe.a,{primary:"Logout"})))))}var Ra=a(53),Ma=function(e){var t,a,n=e.status,o=e.message,i=e.onValidated,c=e.data;return r.a.createElement("div",{style:{borderRadius:2,padding:10,display:"inline-block"}},"sending"===n&&r.a.createElement("div",{style:{color:"blue"}},"sending..."),"error"===n&&r.a.createElement("div",{style:{color:"red"},dangerouslySetInnerHTML:{__html:o}}),"success"===n&&r.a.createElement("div",{style:{color:"green"},dangerouslySetInnerHTML:{__html:o}}),r.a.createElement("input",{style:{fontSize:"2em",padding:5},ref:function(e){return a=e},type:"hidden",value:c.name}),r.a.createElement("br",null),r.a.createElement("input",{style:{fontSize:"2em",padding:5},ref:function(e){return t=e},type:"hidden",value:c.email}),r.a.createElement(ce.a,{color:"primary",variant:"contained",onClick:function(){return t&&a&&t.value.indexOf("@")>-1&&i({EMAIL:t.value,NAME:a.value})}},"Join the waiting list"))},Ua=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={learnMoredialog:!1,getStartedDialog:!1,data:[],user:{}},a.openDialog=function(e){a.setState({learnMoredialog:!0})},a.dialogClose=function(e){a.setState({learnMoredialog:!1})},a.openGetStartedDialog=function(e){a.setState({getStartedDialog:!0})},a.closeGetStartedDialog=function(e){a.setState({getStartedDialog:!1})},a.logout=Object(M.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.logout();case 2:a.props.openNotification("You were signed to your account successfully","success");case 3:case"end":return e.stop()}}),e)}))),a.onAction=function(e){a.props.history.push("/dashboard/".concat(e))},a.onEdit=function(e){a.props.history.push("/dashboard/edit/".concat(e))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(M.a)(R.a.mark((function e(){var t,a,n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.logged();case 2:return t=e.sent,e.next=5,this.props.fetchUser(t.data.user.id);case 5:return a=e.sent,e.next=8,S.a.get("".concat(j,"/devices"),{headers:{Authorization:"Basic ".concat("afe346c2n25cen4f9dn917dn287a8e54e5d6"),"Content-Type":"application/json"}});case 8:n=e.sent,this.setState({data:n.data}),r=n.data.filter((function(e){return e.UserId===a.data.id})),this.setState({data:r,user:a.data});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.history,o=t.logged,i=t.loggedUser,c=this.state,l=c.data,s=c.user,u=this.props.location.pathname;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,null),r.a.createElement(He,{currentPath:u,user:i&&i.data.user,history:this.props.history}),r.a.createElement("div",{className:a.root},r.a.createElement(Y.a,{container:!0,justify:"center"},r.a.createElement(Y.a,{spacing:4,alignItems:"center",justify:"flex-start",container:!0,className:a.grid},r.a.createElement(Y.a,{item:!0,xs:3},r.a.createElement(Pa,{history:n,onLogout:this.logout,logged:o,user:i&&i.data.user})),l&&l.length?r.a.createElement(Y.a,{item:!0,xs:9},r.a.createElement(et,{title:"Devices",subtitle:"Your Ahorta devices connected"}),l.map((function(t){return t.deviceId&&r.a.createElement("div",{style:{marginTop:20}},r.a.createElement(st,{user:t.User,at:t.Readings[0]&&t.Readings[0].createdAt,lastReading:t.Readings[0]&&t.Readings[0].value,minValue:t.minValue,maxValue:t.maxValue,threshold:t.threshold,ssid:t.ssid,deviceId:t.deviceId,name:t.name,onAction:function(){return e.onAction(t.id)},onEdit:function(){return e.onEdit(t.id)}}))}))):r.a.createElement(Y.a,{item:!0,xs:9},r.a.createElement("form",{method:"post"},r.a.createElement(G.a,{className:a.paper},r.a.createElement("div",null,r.a.createElement("div",{className:a.box},r.a.createElement(_.a,{color:"secondary",gutterBottom:!0},"You don't have any registered device yet"),r.a.createElement(_.a,{variant:"body1",gutterBottom:!0},"You don't have any device registered yet. We are building devices to test and you can join our waiting list to have one device send to you or build your own")),r.a.createElement("div",{className:a.alignRight},r.a.createElement(tt.a,{url:"//truppie.us17.list-manage.com/subscribe/post?u=bb76ecd5ef5cbbc5e60701321&amp;id=7582e094e3",render:function(e){var t=e.subscribe,a=e.status,n=e.message;return r.a.createElement(Ma,{status:a,message:n,onValidated:function(e){return t(e)},data:{email:s.email,name:s.name}})}})))))))),r.a.createElement(we,{open:this.state.learnMoredialog,onClose:this.dialogClose}),r.a.createElement(Tt,{open:this.state.getStartedDialog,onClose:this.closeGetStartedDialog})),r.a.createElement(St,{message:this.props.notification.message,open:this.props.notification.open,variant:this.props.notification.variant,closeNotification:this.props.closeNotification}))}}]),t}(n.Component),La=Object(y.g)(V()((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.grey[100],overflow:"hidden",background:"url(".concat(Ra,") no-repeat"),backgroundSize:"cover",backgroundPosition:"0 400px",paddingBottom:200},grid:Object(U.a)({width:1200,marginTop:40},e.breakpoints.down("sm"),{width:"calc(100% - 20px)"}),paper:{padding:3*e.spacing.unit,textAlign:"left",color:e.palette.text.secondary},rangeLabel:{display:"flex",justifyContent:"space-between",paddingTop:2*e.spacing.unit},topBar:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:32},outlinedButtom:{textTransform:"uppercase",margin:e.spacing.unit},actionButtom:{textTransform:"uppercase",margin:e.spacing.unit,width:200},blockCenter:{padding:2*e.spacing.unit,textAlign:"center"},block:{padding:2*e.spacing.unit},box:{marginBottom:40,height:65},inlining:{display:"inline-block",marginRight:10},buttonBar:{display:"flex"},alignRight:{display:"flex",justifyContent:"flex-end"},noBorder:{borderBottomStyle:"hidden"},loadingState:{opacity:.05},loadingMessage:{position:"absolute",top:"40%",left:"40%"}}}))(Ua)),Fa=Object(p.b)((function(e,t){return{user:e.user,loggedUser:e.login,notification:e.notification}}),(function(e,t){return{logged:function(){return e(A())},logout:function(){return e(I())},fetchUser:function(t){return e(k.fetch(t))},openNotification:function(t,a){return e(Qe(t,a))},closeNotification:function(){return e({type:"CLOSE_NOTIFICATION",open:!1})}}}))(La),Wa=a(53),Va=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",minValue:0,maxValue:0,threshold:0,data:{}},a.openDialog=function(e){a.setState({learnMoredialog:!0})},a.dialogClose=function(e){a.setState({learnMoredialog:!1})},a.openGetStartedDialog=function(e){a.setState({getStartedDialog:!0})},a.closeGetStartedDialog=function(e){a.setState({getStartedDialog:!1})},a.handleChange=function(e){a.setState(Object(U.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t=a.state,n=t.name,r=t.minValue,o=t.maxValue,i=t.threshold,c=a.props.match.params.id;S.a.put("".concat(j,"/devices/").concat(c),{name:n,minValue:r,maxValue:o,threshold:i},{headers:{Authorization:"Basic ".concat("afe346c2n25cen4f9dn917dn287a8e54e5d6"),"Content-Type":"application/json"}}).then((function(e){console.log(e),a.props.openNotification("Your device information was updated successfully","success"),a.props.history.push("/profile")})).catch((function(e){a.props.openNotification("There was an error to update your information, please try again later","error")}))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(M.a)(R.a.mark((function e(){var t,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.logged();case 2:return t=this.props.match.params.id,e.next=5,S.a.get("".concat(j,"/devices/").concat(t),{headers:{Authorization:"Basic ".concat("afe346c2n25cen4f9dn917dn287a8e54e5d6"),"Content-Type":"application/json"}});case 5:a=e.sent,this.setState({data:a.data,name:a.data.name,minValue:a.data.minValue,maxValue:a.data.maxValue,threshold:a.data.threshold});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearData",value:function(e){var t=this;e.preventDefault();var a=this.props.match.params.id;S.a.delete("".concat(j,"/devices/").concat(a,"/readings"),{id:a},{headers:{Authorization:"Basic ".concat("afe346c2n25cen4f9dn917dn287a8e54e5d6"),"Content-Type":"application/json"}}).then((function(e){console.log("clear data response",e),t.props.openNotification("Your data was successfully cleared","success")})).catch((function(e){console.log("error",e),t.props.openNotification("There was an error to clear the data, please try again later","error")}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.history,o=t.logged,i=t.loggedUser,c=this.state.data,l=this.props.location.pathname;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,null),r.a.createElement(He,{currentPath:l,user:i&&i.data.user,history:this.props.history}),r.a.createElement("div",{className:a.root},r.a.createElement(Y.a,{container:!0,justify:"center"},r.a.createElement(Y.a,{spacing:4,alignItems:"center",justify:"flex-start",container:!0,className:a.grid},r.a.createElement(Y.a,{item:!0,xs:3},r.a.createElement(Pa,{onLogout:this.logout,logged:o,history:n,user:i&&i.data.user})),r.a.createElement(Y.a,{item:!0,xs:9},r.a.createElement(et,{title:"Devices",subtitle:"Ahorta devices created"}),c&&r.a.createElement("div",{style:{marginTop:20}},r.a.createElement(G.a,{className:a.paper},r.a.createElement("form",{method:"POST",onSubmit:this.onSubmit},r.a.createElement(Jt.a,{id:"name",name:"name",label:"Name",value:this.state.name,className:a.textField,onChange:this.handleChange,margin:"normal",variant:"outlined",autoFocus:!0}),r.a.createElement(Jt.a,{id:"minValue",name:"minValue",label:"The lowest number measured",value:this.state.minValue||"",className:a.textField,onChange:this.handleChange,margin:"normal",variant:"outlined"}),r.a.createElement(Jt.a,{id:"maxValue",name:"maxValue",label:"The maximum value measured",value:this.state.maxValue||"",className:a.textField,onChange:this.handleChange,margin:"normal",variant:"outlined"}),r.a.createElement(Jt.a,{id:"threshold",name:"threshold",label:"The percentage that we will consider low humidity",value:this.state.threshold||"",className:a.textField,onChange:this.handleChange,margin:"normal",variant:"outlined"}),r.a.createElement("div",{className:a.alignRight},r.a.createElement(ce.a,{onClick:function(t){return e.clearData(t)},style:{marginRight:10},color:"primary",variant:"outlined"},"Clear data from readings"),r.a.createElement(ce.a,{type:"submit",color:"primary",variant:"contained"},"Update")))))),!c&&!c.length&&r.a.createElement(Y.a,{item:!0,xs:8},r.a.createElement(G.a,{className:a.paper},r.a.createElement("div",null,r.a.createElement("div",{className:a.box},r.a.createElement(_.a,{color:"secondary",gutterBottom:!0},"Welcome to Ahorta"),r.a.createElement(_.a,{variant:"body1",gutterBottom:!0},"This is an example of a full-width box")),r.a.createElement("div",{className:a.alignRight},r.a.createElement(ce.a,{color:"primary",variant:"contained",className:a.actionButtom},"Learn more"))))))),r.a.createElement(we,{open:this.state.learnMoredialog,onClose:this.dialogClose}),r.a.createElement(Tt,{open:this.state.getStartedDialog,onClose:this.closeGetStartedDialog})),r.a.createElement(St,{message:this.props.notification.message,open:this.props.notification.open,variant:this.props.notification.variant,closeNotification:this.props.closeNotification}))}}]),t}(n.Component),za=Object(y.g)(V()((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.grey[100],overflow:"hidden",background:"url(".concat(Wa,") no-repeat"),backgroundSize:"cover",backgroundPosition:"0 400px",paddingBottom:200},grid:Object(U.a)({width:1200,marginTop:40},e.breakpoints.down("sm"),{width:"calc(100% - 20px)"}),paper:{padding:3*e.spacing.unit,textAlign:"left",color:e.palette.text.secondary},rangeLabel:{display:"flex",justifyContent:"space-between",paddingTop:2*e.spacing.unit},topBar:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:32},outlinedButtom:{textTransform:"uppercase",margin:e.spacing.unit},actionButtom:{textTransform:"uppercase",margin:e.spacing.unit,width:152},blockCenter:{padding:2*e.spacing.unit,textAlign:"center"},block:{padding:2*e.spacing.unit},box:{marginBottom:40,height:65},inlining:{display:"inline-block",marginRight:10},buttonBar:{display:"flex"},alignRight:{display:"flex",justifyContent:"flex-end"},noBorder:{borderBottomStyle:"hidden"},loadingState:{opacity:.05},loadingMessage:{position:"absolute",top:"40%",left:"40%"}}}))(Va)),Ga=Object(p.b)((function(e,t){return{user:e.user,loggedUser:e.login,notification:e.notification}}),(function(e,t){return{logged:function(){return e(A())},logout:function(){return e(I())},fetchUser:function(t){return e(k.fetch(t))},openNotification:function(t,a){return e(Qe(t,a))},closeNotification:function(){return e({type:"CLOSE_NOTIFICATION",open:!1})}}}))(za),_a=a(53),Ya=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={id:0,name:"",email:"",password:"",confirmPassword:"",website:""},a.openDialog=function(e){a.setState({learnMoredialog:!0})},a.dialogClose=function(e){a.setState({learnMoredialog:!1})},a.openGetStartedDialog=function(e){a.setState({getStartedDialog:!0})},a.closeGetStartedDialog=function(e){a.setState({getStartedDialog:!1})},a.handleChange=function(e){a.setState(Object(U.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault(),a.props.updateUser(a.state.id,{name:a.state.name,website:a.state.website}).then((function(e){e.data[0]?a.props.openNotification("Your account information was updated successfully","success"):a.props.openNotification("There was an error to update your information, please try again later","error")})).catch((function(e){a.props.openNotification("There was an error to update your information, please try again later","error")}))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(M.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.logged();case 2:t=e.sent,this.setState({id:t.data.user.id,email:t.data.user.email,name:t.data.user.name,password:t.data.user.password,confirmPassword:t.data.user.confirmPassword,website:t.data.user.website});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.history,o=t.logged,i=t.loggedUser,c=t.logout,l=this.props.location.pathname;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,null),r.a.createElement(He,{currentPath:l,user:i&&i.data.user,history:this.props.history}),r.a.createElement("div",{className:a.root},r.a.createElement(Y.a,{container:!0,justify:"center"},r.a.createElement(Y.a,{spacing:4,alignItems:"center",justify:"flex-start",container:!0,className:a.grid},r.a.createElement(Y.a,{item:!0,xs:3},r.a.createElement(Pa,{onLogout:c,logged:o,history:n,user:i&&i.data.user})),r.a.createElement(Y.a,{item:!0,xs:9},r.a.createElement(et,{title:"Account",subtitle:"Update your account information"}),r.a.createElement("div",{style:{marginTop:20}},r.a.createElement(G.a,{className:a.paper},r.a.createElement("form",{method:"POST",onSubmit:this.onSubmit},r.a.createElement(Jt.a,{id:"email",name:"email",label:"Email",type:"email",value:this.state.email,className:a.textField,disabled:!0,onChange:this.handleChange,margin:"normal",variant:"outlined"}),r.a.createElement(Jt.a,{id:"password",name:"password",label:"Password",type:"password",className:a.textField,onChange:function(t){return e.handleChange(t)},margin:"normal",variant:"outlined",disabled:!0}),r.a.createElement(Jt.a,{id:"confirm-password",name:"confirmPassword",label:"Confirm password",type:"password",className:a.textField,onChange:function(t){return e.handleChange(t)},margin:"normal",variant:"outlined",disabled:!0}),r.a.createElement(Jt.a,{id:"name",name:"name",label:"Your name",className:a.textField,value:this.state.name,onChange:function(t){return e.handleChange(t)},margin:"normal",variant:"outlined"}),r.a.createElement(Jt.a,{id:"website",name:"website",label:"Website",className:a.textField,value:this.state.website,onChange:function(t){return e.handleChange(t)},margin:"normal",variant:"outlined"}),r.a.createElement("div",{className:a.alignRight},r.a.createElement(ce.a,{type:"submit",color:"primary",variant:"contained"},"Update")))))))),r.a.createElement(we,{open:this.state.learnMoredialog,onClose:this.dialogClose}),r.a.createElement(Tt,{open:this.state.getStartedDialog,onClose:this.closeGetStartedDialog})),r.a.createElement(St,{message:this.props.notification.message,open:this.props.notification.open,variant:this.props.notification.variant,closeNotification:this.props.closeNotification}))}}]),t}(n.Component),Ha=Object(y.g)(V()((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.grey[100],overflow:"hidden",background:"url(".concat(_a,") no-repeat"),backgroundSize:"cover",backgroundPosition:"0 400px",paddingBottom:200},grid:Object(U.a)({width:1200,marginTop:40},e.breakpoints.down("sm"),{width:"calc(100% - 20px)"}),paper:{padding:3*e.spacing.unit,textAlign:"left",color:e.palette.text.secondary},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},rangeLabel:{display:"flex",justifyContent:"space-between",paddingTop:2*e.spacing.unit},topBar:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:32},outlinedButtom:{textTransform:"uppercase",margin:e.spacing.unit},actionButtom:{textTransform:"uppercase",margin:e.spacing.unit,width:152},blockCenter:{padding:2*e.spacing.unit,textAlign:"center"},block:{padding:2*e.spacing.unit},box:{marginBottom:40,height:65},inlining:{display:"inline-block",marginRight:10},buttonBar:{display:"flex"},alignRight:{display:"flex",justifyContent:"flex-end"},noBorder:{borderBottomStyle:"hidden"},loadingState:{opacity:.05},loadingMessage:{position:"absolute",top:"40%",left:"40%"}}}))(Ya)),Ka=Object(p.b)((function(e,t){return{user:e.user,loggedUser:e.login,notification:e.notification}}),(function(e,t){return{logged:function(){return e(A())},logout:function(){return e(I())},fetchUser:function(t){return e(k.fetch(t))},updateUser:function(t,a){return e(k.update(t,a))},openNotification:function(t,a){return e(Qe(t,a))},closeNotification:function(){return e({type:"CLOSE_NOTIFICATION",open:!1})}}}))(Ha),Ja={Authorization:"Basic ".concat("afe346c2n25cen4f9dn917dn287a8e54e5d6"),"Content-Type":"application/json"},Xa=(Object(C.genPlainActions)("device"),Object(C.genAsyncActions)("device",j+"/devices",Ja)),qa=a(303),$a=a(296),Qa=a.n($a),Za=a(297),en=a.n(Za),tn=Object(jt.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",width:400},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}}));function an(e){var t=tn(),a=e.onSearch,n=e.onChange;return r.a.createElement(G.a,{component:"form",className:t.root},r.a.createElement(qa.a,{className:t.input,placeholder:"Search device",inputProps:{name:"deviceId","aria-label":"Find your device using the Device ID"},onChange:n}),r.a.createElement(Ue.a,{onClick:a,className:t.iconButton,"aria-label":"search"},r.a.createElement(Qa.a,null)),r.a.createElement(Le.a,{className:t.divider,orientation:"vertical"}),r.a.createElement(Ue.a,{color:"primary",className:t.iconButton,"aria-label":"help"},r.a.createElement(en.a,null)))}var nn=a(53),rn=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={deviceId:null,deviceFound:null,deviceNotFound:!1,userId:null,loading:!1},a.openDialog=function(e){a.setState({learnMoredialog:!0})},a.dialogClose=function(e){a.setState({learnMoredialog:!1})},a.openGetStartedDialog=function(e){a.setState({getStartedDialog:!0})},a.closeGetStartedDialog=function(e){a.setState({getStartedDialog:!1})},a.handleChange=function(e){a.setState(Object(U.a)({},e.target.name,e.target.value)),console.log(a.state)},a.onSubmit=function(e){e.preventDefault(),a.props.updateDevice(a.state.deviceFound.id,{UserId:a.state.userId}).then((function(e){console.log(e),e.data.UserId?(a.props.openNotification("Your device was updated","success"),a.props.history.push("/profile")):a.props.openNotification("there was an error to update your device","error")})).catch((function(e){a.props.openNotification("There was an error to update your information, please try again later","error")}))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(M.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.logged();case 2:t=e.sent,this.setState({userId:t.data.user.id});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSearch",value:function(){var e=Object(M.a)(R.a.mark((function e(t){var a,n,r=this;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.setState({loading:!0}),e.next=4,this.props.listDevices();case 4:a=e.sent,(n=a&&a.data.filter((function(e){return!e.UserId&&e.deviceId===r.state.deviceId})))&&n.length?this.setState({deviceFound:n[0],deviceNotFound:!1,loading:!1}):this.setState({deviceNotFound:!0,devideFound:null,loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.history,o=t.logged,i=t.loggedUser,c=t.logout,l=this.state,s=l.deviceFound,u=l.deviceNotFound,m=l.loading,d=this.props.location.pathname;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,null),r.a.createElement(He,{currentPath:d,user:i&&i.data.user,history:this.props.history}),r.a.createElement("div",{className:a.root},r.a.createElement(Y.a,{container:!0,justify:"center"},r.a.createElement(Y.a,{spacing:4,alignItems:"center",justify:"flex-start",container:!0,className:a.grid},r.a.createElement(Y.a,{item:!0,xs:3},r.a.createElement(Pa,{onLogout:c,logged:o,history:n,user:i&&i.data.user})),r.a.createElement(Y.a,{item:!0,xs:9},r.a.createElement(et,{title:"Account",subtitle:"Update your account information"}),r.a.createElement("div",{style:{marginTop:20}},r.a.createElement(G.a,{className:a.paper},r.a.createElement("form",{method:"POST",onSubmit:this.onSubmit},r.a.createElement(an,{onChange:function(t){return e.handleChange(t)},onSearch:function(t){return e.onSearch(t)}}),r.a.createElement("div",{style:{paddingTop:20,paddingBottom:20}},m&&r.a.createElement(Zt.a,null),s&&s.id&&r.a.createElement(st,{at:s.Readings[0]&&s.Readings[0].createdAt,lastReading:s.Readings[0]&&s.Readings[0].value,deviceId:s.deviceId,name:s.name,minValue:s.minValue,maxValue:s.maxValue,noDashboard:!0}),u&&"device not found"),r.a.createElement("div",{className:a.alignRight},r.a.createElement(ce.a,{disabled:!this.state.deviceFound,type:"submit",color:"primary",variant:"contained"},"Connect")))))))),r.a.createElement(we,{open:this.state.learnMoredialog,onClose:this.dialogClose}),r.a.createElement(Tt,{open:this.state.getStartedDialog,onClose:this.closeGetStartedDialog})),r.a.createElement(St,{message:this.props.notification.message,open:this.props.notification.open,variant:this.props.notification.variant,closeNotification:this.props.closeNotification}))}}]),t}(n.Component),on=Object(y.g)(V()((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.grey[100],overflow:"hidden",background:"url(".concat(nn,") no-repeat"),backgroundSize:"cover",backgroundPosition:"0 400px",paddingBottom:200},grid:Object(U.a)({width:1200,marginTop:40},e.breakpoints.down("sm"),{width:"calc(100% - 20px)"}),paper:{padding:3*e.spacing.unit,textAlign:"left",color:e.palette.text.secondary},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},rangeLabel:{display:"flex",justifyContent:"space-between",paddingTop:2*e.spacing.unit},topBar:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:32},outlinedButtom:{textTransform:"uppercase",margin:e.spacing.unit},actionButtom:{textTransform:"uppercase",margin:e.spacing.unit,width:152},blockCenter:{padding:2*e.spacing.unit,textAlign:"center"},block:{padding:2*e.spacing.unit},box:{marginBottom:40,height:65},inlining:{display:"inline-block",marginRight:10},buttonBar:{display:"flex"},alignRight:{display:"flex",justifyContent:"flex-end"},noBorder:{borderBottomStyle:"hidden"},loadingState:{opacity:.05},loadingMessage:{position:"absolute",top:"40%",left:"40%"}}}))(rn)),cn=Object(p.b)((function(e,t){return{user:e.user,loggedUser:e.login,notification:e.notification}}),(function(e,t){return{logged:function(){return e(A())},logout:function(){return e(I())},listDevices:function(){return e(Xa.list())},updateDevice:function(t,a){return e(Xa.update(t,a))},fetchUser:function(t){return e(k.fetch(t))},openNotification:function(t,a){return e(Qe(t,a))},closeNotification:function(){return e({type:"CLOSE_NOTIFICATION",open:!1})}}}))(on),ln=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(n.Component),sn=Object(y.g)(ln),un=function(e){return r.a.createElement(b.a,null,r.a.createElement(sn,null,r.a.createElement(y.d,null,r.a.createElement(x,{path:"/profile",component:Fa}),r.a.createElement(x,{path:"/account",component:Ka}),r.a.createElement(x,{path:"/connect",component:cn}),r.a.createElement(y.b,{exact:!0,path:"/token/:token",component:w}),r.a.createElement(y.b,{exact:!0,path:"/devices",component:Wt}),r.a.createElement(y.b,{exact:!0,path:"/users",component:Ht}),r.a.createElement(y.b,{exact:!0,path:"/signup",component:sa}),r.a.createElement(y.b,{exact:!0,path:"/signin",component:ha}),r.a.createElement(y.b,{exact:!0,path:"/wizard",component:ka}),r.a.createElement(y.b,{exact:!0,path:"/dashboard/:id",component:$e}),r.a.createElement(x,{path:"/dashboard/edit/:id",component:Ga}),r.a.createElement(y.b,{exact:!0,path:"/",component:Mt}))))},mn=a(649),dn=Object(C.genReducer)("user",{data:{},error:!1,completed:!0});function pn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function gn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pn(a,!0).forEach((function(t){Object(U.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var hn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{open:!1,message:"",variant:"info"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_NOTIFICATION":return gn({},e,{message:t.message,variant:t.variant,open:t.open});case"CLOSE_NOTIFICATION":return gn({},e,{open:t.open});default:return e}};function fn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function bn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fn(a,!0).forEach((function(t){Object(U.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var yn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{completed:!0,data:{},error:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B.logged[0]:return bn({},e,{completed:t.completed});case B.logged[1]:return bn({},e,{completed:t.completed,data:t.data,error:!1});case B.logged[2]:case B.logout[0]:return bn({},e,{completed:t.completed,error:t.error});case B.logout[1]:return bn({},e,{completed:t.completed,error:t.error,data:t.data});case B.logout[2]:return bn({},e,{completed:t.completed,error:t.error});default:return e}},vn=Object(C.genReducer)("device",{data:{},error:!1,completed:!0}),En=Object(d.c)({user:dn,device:vn,login:yn,notification:hn}),xn=Object(f.a)({palette:{primary:{main:at.a[700]},secondary:{main:mn.a[900]}},typography:{fontFamily:['"Lato"',"sans-serif"].join(",")}}),wn=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):d.d)(Object(d.a)(g.a)),Cn=Object(d.e)(En,wn),jn=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(h.a,{theme:xn},r.a.createElement(p.a,{store:Cn},r.a.createElement(un,null))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(jn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[312,1,2]]]);
//# sourceMappingURL=main.96aa3858.chunk.js.map